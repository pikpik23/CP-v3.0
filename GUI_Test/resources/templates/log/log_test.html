{% extends '/includes/layout.html' %} {% block body %}
<script src="/js_files/jquery-1.12.0.js"></script>
<script src="js_files/jquery.floatThead.min.js"></script>
<script type="text/javascript">  
  $(document).ready(function () {
    
    {% for entry in log %}
    $("#{{entry['logID']}}").click(function () {
      $("#logPrint").attr("src", "log/{{entry['logID']}}");
      {% for entry in log %}
      $("#{{entry['logID']}}").attr("class", "rowOff")
      {% endfor %}
      $(this).attr("class", "rowSelected");
      
    });
    {% endfor %}
    $("#0").attr("class", "rowSelected");
    $('#logs').floatThead({
    });

    $("#print").click(function(){
      window.frames["printf"].focus();
      window.frames["printf"].print();
    });

    $('#logs tr').last().click();
    document.addEventListener("keydown", function(event) {
    if (event.keyCode === 38) {
        event.preventDefault();
        //UP ARROW
        $('tr.rowSelected').prev().click()
    }
    });
    document.addEventListener("keydown", function(event) {
    if (event.keyCode === 40) {
        event.preventDefault();
        //DOWN ARROW
        $('tr.rowSelected').next().click()
    }
    });
   });
</script>


<section>

  <div class="logLeft">
    <div class="banner">
        <a>Log</a>
    </div>

    
    <div class="logTable">
      <div class="table-scroll">
        <table class="tableLog" id="logs">
          <thead>
          <tr class="head2">
            <th class="tdTime">Time</td>
            <th class="tdFrom">From</td>
            <th class="tdTo">To</td>
            <th class="tdType">Type</td>
          </tr>
        </thead>
        <tbody>
          {% for entry in log %}
          <div class="entryRow">
            <tr class="rowOff" id="{{entry['logID']}}">
              <td>{{entry['time'] }}</td>
              <td>{{entry['sender']}}</td>
              <td>{{entry['receiver']}}</td>
              <td>{{entry['name'] }}</td>
            </tr>
          </div>
          {% endfor %}
        </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="logDisplay">
    <iframe id="logPrint" src="log/init" name="printf" scrolling="yes"></iframe>
    <div class="foot">
        <table class="footTable">
            <tr class=submit>
                <td>
                    <button id="print">Print</button>
                </td>
                <td>
                    <button>Edit</button>
                </td>
                <td>
                  <button>Delete</button>
                </td>
                <td class="fill"></td>
            </tr>

        </table>
    </footer>
  </div>
</section>

{% endblock %}